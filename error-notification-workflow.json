{
  "updatedAt": "2025-12-08T09:07:49.000Z",
  "createdAt": "2025-11-25T14:46:39.204Z",
  "id": "uxiU7FOABx5M1moL",
  "name": "Error Notification workflow",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {},
      "id": "b78a90ee-7ca8-49a5-acea-69ed9711cac5",
      "name": "Error Trigger",
      "type": "n8n-nodes-base.errorTrigger",
      "position": [
        -448,
        400
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "language": "pythonNative",
        "pythonCode": "message = f'''\nWORKFLOW ERROR\n\nWorkflow: {_item['json']['workflow']['name']}\nNode: {_item['json']['execution']['lastNodeExecuted']}\nError: {_item['json']['execution']['error']['message']}\nStacktrace: {_item['json']['execution']['error']['stack']}\n[Execution link]({_item['json']['execution']['url']})\n'''\nreturn {\"message\": message}\n\n# // Perfect error access untuk N8N v1.99.1\n# const errorData = $input.first().json;\n# const execution = errorData.execution;\n# const workflow = errorData.workflow;\n# const error = execution.error;\n\n# const message = `üö® <b>WORKFLOW ERROR</b>\\n\\n` +\n#   `üìã Workflow: <b>${workflow.name}</b>\\n` +\n#   `‚öôÔ∏è Node: <code>${error.node.name}</code>\\n` +\n#   `‚ùå Error: <code>${error.message}</code>\\n` +\n#   `üìù Description: <i>${error.description}</i>\\n` +\n#   `üïê Waktu: ${new Date(error.timestamp).toLocaleString('id-ID')}\\n` +\n#   `üîç Execution: <a href=\"${execution.url}\">${execution.id}</a>\\n` +\n#   `‚ö†Ô∏è Level: ${error.level.toUpperCase()}`;\n\n# return {\n#   message: message,\n#   parse_mode: 'HTML',\n#   chat_id: '621412350'\n# };"
      },
      "id": "5bb86eb6-87f6-4e8f-a9bb-47d6c652a6d7",
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "position": [
        -224,
        400
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "sendTo": "catebi.tbilisi@gmail.com",
        "subject": "n8n Workflow Error",
        "message": "={{ $json.message }}",
        "options": {}
      },
      "id": "4e95fef0-edd0-4baa-b873-82e747092195",
      "name": "Notify Gmail",
      "type": "n8n-nodes-base.gmail",
      "position": [
        0,
        400
      ],
      "webhookId": "52f0cc71-1ad8-4f9a-b07c-bae9be1e217c",
      "typeVersion": 2.1,
      "disabled": true
    },
    {
      "parameters": {
        "chatId": "113754494",
        "text": "={{ $json.message }}",
        "additionalFields": {
          "parse_mode": "MarkdownV2"
        }
      },
      "id": "ed2c4471-a740-48a1-892f-38d654cd1c39",
      "name": "Notify Telegram",
      "type": "n8n-nodes-base.telegram",
      "position": [
        0,
        208
      ],
      "webhookId": "13c616bf-a3ad-4035-998a-1dfe6021b89f",
      "typeVersion": 1,
      "credentials": {
        "telegramApi": {
          "id": "tcX20TpSwtOgHBGq",
          "name": "Peredast"
        }
      }
    },
    {
      "parameters": {
        "content": "## üö® Error Notification Workflow\n\nThis workflow automatically sends notifications when any other workflow fails.\n\nSimply download copy and paste into your workflow then add your credential with prefered channel\n\nThis workflow is free. \nwant more? [contact me](khmuhtadin.com)\n\nhave something to helps me chill, [a coffee](coff.ee/khmuhtadin) would be great!",
        "height": 280,
        "width": 420,
        "color": 5
      },
      "id": "badc57af-3ca6-49ee-ba26-f147e083908f",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -528,
        64
      ],
      "typeVersion": 1
    }
  ],
  "connections": {
    "Code": {
      "main": [
        [
          {
            "node": "Notify Telegram",
            "type": "main",
            "index": 0
          },
          {
            "node": "Notify Gmail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Error Trigger": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": null,
  "pinData": {
    "Error Trigger": [
      {
        "json": {
          "execution": {
            "id": "4681",
            "url": "https://n8n.religofsil.space/workflow/BzPT7nQWQllqpcsO/executions/4681",
            "error": {
              "level": "warning",
              "tags": {},
              "timestamp": 1765181700166,
              "context": {},
              "functionality": "regular",
              "name": "NodeOperationError",
              "node": {
                "parameters": {
                  "inputText": "={{ $('Telegram Trigger').item.json.message.text ?? $('Telegram Trigger').item.json.message.caption ?? \"default\"}}",
                  "categories": {
                    "categories": [
                      {
                        "category": "job description (excluding animal-related)",
                        "description": "text offering and promoting a job"
                      },
                      {
                        "category": "ticket sales offer (excluding animal-themed)",
                        "description": "text about selling tickets to an event"
                      },
                      {
                        "category": "other",
                        "description": "any text that is not about a job or selling something"
                      },
                      {
                        "category": "pet-related",
                        "description": ""
                      }
                    ]
                  },
                  "options": {
                    "systemPromptTemplate": "Please classify the text provided by the user into one of the following categories: {categories}. If the text says anything at all about animals or pets, put it into \"pet-related\" category. Use the provided formatting instructions below. Don't explain, and only output the json.",
                    "enableAutoFixing": false
                  }
                },
                "type": "@n8n/n8n-nodes-langchain.textClassifier",
                "typeVersion": 1.1,
                "position": [
                  672,
                  256
                ],
                "id": "0470a125-72fb-4754-b46f-e0bd3d028f49",
                "name": "Text Classifier",
                "alwaysOutputData": false
              },
              "messages": [],
              "message": "Cannot read properties of undefined (reading 'message')",
              "stack": "NodeOperationError: Cannot read properties of undefined (reading 'message')\n    at /usr/local/lib/node_modules/n8n/node_modules/.pnpm/@n8n+n8n-nodes-langchain@file+packages+@n8n+nodes-langchain_20900c8302166d11a7199f732c8d7bf5/node_modules/@n8n/n8n-nodes-langchain/nodes/chains/TextClassifier/TextClassifier.node.ts:270:14\n    at Array.forEach (<anonymous>)\n    at ExecuteContext.execute (/usr/local/lib/node_modules/n8n/node_modules/.pnpm/@n8n+n8n-nodes-langchain@file+packages+@n8n+nodes-langchain_20900c8302166d11a7199f732c8d7bf5/node_modules/@n8n/n8n-nodes-langchain/nodes/chains/TextClassifier/TextClassifier.node.ts:259:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WorkflowExecute.executeNode (/usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-core@file+packages+core_@opentelemetry+api@1.9.0_@opentelemetry+sdk-trace-base@1.30_08b575bec2313d5d8a4cc75358971443/node_modules/n8n-core/src/execution-engine/workflow-execute.ts:1074:8)\n    at WorkflowExecute.runNode (/usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-core@file+packages+core_@opentelemetry+api@1.9.0_@opentelemetry+sdk-trace-base@1.30_08b575bec2313d5d8a4cc75358971443/node_modules/n8n-core/src/execution-engine/workflow-execute.ts:1255:11)\n    at /usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-core@file+packages+core_@opentelemetry+api@1.9.0_@opentelemetry+sdk-trace-base@1.30_08b575bec2313d5d8a4cc75358971443/node_modules/n8n-core/src/execution-engine/workflow-execute.ts:1691:27\n    at /usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-core@file+packages+core_@opentelemetry+api@1.9.0_@opentelemetry+sdk-trace-base@1.30_08b575bec2313d5d8a4cc75358971443/node_modules/n8n-core/src/execution-engine/workflow-execute.ts:2307:11"
            },
            "lastNodeExecuted": "Text Classifier",
            "mode": "webhook",
            "executionContext": {
              "version": 1,
              "establishedAt": 1765181699809,
              "source": "webhook"
            }
          },
          "workflow": {
            "id": "BzPT7nQWQllqpcsO",
            "name": "Spambot"
          }
        }
      }
    ]
  },
  "versionId": "cd919748-3157-4f37-a3cf-245e676e9a52",
  "activeVersionId": null,
  "triggerCount": 0,
  "shared": [
    {
      "updatedAt": "2025-11-25T14:46:39.211Z",
      "createdAt": "2025-11-25T14:46:39.211Z",
      "role": "workflow:owner",
      "workflowId": "uxiU7FOABx5M1moL",
      "projectId": "jnu5GnxkoXUPZEif"
    }
  ],
  "activeVersion": null,
  "tags": []
}